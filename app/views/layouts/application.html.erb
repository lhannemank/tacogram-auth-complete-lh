<!DOCTYPE html> <!-- Defines the document type and version of HTML -->
<html lang="en"> <!-- Specifies the language of the document -->

<head> <!-- Contains meta-information about the document -->
  <meta charset="UTF-8"> <!-- Defines the character encoding for the document -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Makes the webpage responsive on different devices -->
  <title>Tacogram</title> <!-- Defines the title of the document -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> <!-- Links Bootstrap CSS for styling -->
</head>

<body class="pt-4"> <!-- Defines the body of the document. "pt-4" is a Bootstrap class for padding-top: 1.5rem (16px) -->
  <div class="container"> <!-- "container" is a Bootstrap class for a responsive fixed-width container -->
    <div class="row justify-content-end mb-2"> <!-- "row" is a Bootstrap class for a horizontal grouping of columns. "justify-content-end" aligns the columns to the end of the row. "mb-2" is a Bootstrap class for margin-bottom: .5rem (8px) -->
      <div class="col"> <!-- "col" is a Bootstrap class for a column -->
        <%= flash["notice"] %> <!-- Displays flash notice messages -->
      </div>
      <div class="col-3 text-end"> <!-- "col-3" is a Bootstrap class for a column that takes up 3 out of 12 columns. "text-end" aligns the text to the end of the column -->
        <% @user = User.find_by({ "id" => session["user_id"] }) %> <!-- Finds the user by their session ID -->
        <% if @user == nil %> <!-- Checks if the user is not logged in -->
          <a href="/users/new" class="btn btn-default">Sign Up</a> <!-- Link to sign up page -->
          |
          <a href="/login" class="btn btn-default">Login</a> <!-- Link to login page -->
        <% else %> <!-- If the user is logged in -->
          Logged in as: <%= @user["first_name"] %> <!-- Displays the first name of the logged in user -->
          |
          <a href="/logout" class="btn btn-default">Logout</a> <!-- Link to logout -->
        <% end %>
      </div>
    </div>

    <div class="row"> <!-- Another row for the title and new post button -->
      <div class="col"> <!-- Column for the title -->
        <h1 class="display-6 mb-4">Tacostagram</h1> <!-- Title of the page. "display-6" is a Bootstrap class for a large heading. "mb-4" is a Bootstrap class for margin-bottom: 1.5rem (24px) -->
      </div>
      <div class="col-2 text-end"> <!-- Column for the new post button -->
        <a href="/posts/new/" class="btn btn-success">New Post</a> <!-- Link to new post page. "btn-success" is a Bootstrap class for a green button -->
      </div>
    </div>

    <%= yield %> <!-- This is where the content from other views will be rendered -->
  </div>
</body>
</html>
